import base64

script = b'CmNsID0gJxtbMG0nCmF6ID0gJxtbMTs5NG0nCmNpYSA9ICcbWzE7MzZtJwpjeiA9ICcbWzE7MzdtJwoKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCBvcwpmcm9tIHN5cyBpbXBvcnQgYXJndiwgZXhlY3V0YWJsZQoKCmRlZiByZXN0YXJ0KCk6CiAgICBvcy5leGVjbChleGVjdXRhYmxlLCBleGVjdXRhYmxlLCAqYXJndikKCmRlZiBFbnRlcigpOgogICAgaW5wdXQoIlByZXNzaW9uZSBFTlRFUiBwYXJhIGNvbnRpbnVhciIpCiAgICAKICAgIHJlc3RhcnQoKQoKZGVmIGNsZWFyKCk6CiAgICBvcy5zeXN0ZW0oJ2Nsc3x8Y2xlYXInKQogICAgCgpkZWYgb3Bjb2VzKCk6CiAgICBwcmludCgne31NSUxJQ0lBIFBJS0EgREUgTUVMG1swbScuZm9ybWF0KGNpYSkpCiAgICBwcmludCgnICcpCiAgICBwcmludCgnG1s0OzM3bUNSSUFETyBQT1I6IFNXQUcsTVJESU5JWixTUFlXQVJFLElOVEFDVE9YG1swOzBtJykKICAgIHByaW50KCcbWzQ7MzdtR0lUSFVCOiBTd2FnNjY2YmFieSAvLyBTcHl3YXJlMCAvLyBtcmRpbml6ODgbW20nKQogICAgcHJpbnQoJ1pBUDogNTU2Mjk1NTk4MjIwJykKICAgIHByaW50KCcgJykKICAgIHByaW50KCdFU0NPTEhBIFVNIE7Dmk1FUk86ICcpCiAgICBwcmludCgnICcpCiAgICBwcmludCgne31be30xe31de30gQ09OU1VMVEEgREUgQ0VQJy5mb3JtYXQoY2wsY2lhLGNsLGNpYSkpCiAgICBwcmludCgne31be30ye31de30gQ09OU1VMVEEgREUgSVAnLmZvcm1hdChjbCxjaWEsY2wsY2lhKSkKICAgIHByaW50KCd7fVt7fTN7fV17fSBDT05TVUxUQSBERSBDTlBKJy5mb3JtYXQoY2wsY2lhLGNsLGNpYSkpCiAgICBwcmludCgne31be300e31de30gQ09OU1VMVEEgREUgUExBQ0EnLmZvcm1hdChjbCxjaWEsY2wsY2lhKSkKICAgIG9wYyA9IGlucHV0KCc+Pj4gIHt9Jy5mb3JtYXQoY2wpKQoKICAgIGlmIG9wYyA9PSAnMSc6CiAgICAJQ2VwKCkKCiAgICBlbGlmIG9wYyA9PSAnMic6CiAgICAJSXAoKQoKICAgIGVsaWYgb3BjID09ICczJzoKICAgIAlDbnBqKCkKICAgIAkKICAgIGVsaWYgb3BjID09ICc0JzoKICAgIAlwbGFjYSgpCiAgICAJCiAgICBlbHNlOgogICAgICAgIHJlc3RhcnQoKQoKCmRlZiBJcCgpOgogICAgY2xlYXIoKQoKICAgIGlwID0gaW5wdXQoJ0RJR0lURSBPIElQOiAnKQogCiAgICByID0gcmVxdWVzdHMuZ2V0KGYnaHR0cHM6Ly9pcHdob2lzLmFwcC9qc29uL3tpcH0nKQogICAgZGF0YSA9IHIuanNvbigpCiAgICBjbGVhcigpCiAgICBmb3IgaXRlbSBpbiBkYXRhOgogICAgICAgIHByaW50KGl0ZW0sJzonLCBkYXRhW2l0ZW1dKQogICAgRW50ZXIoKQoKCmRlZiBDZXAoKToKICAgIGNsZWFyKCkKCiAgICBjZXAgPSBpbnB1dCgnRElHSVRFIE8gQ0VQOiAnKQogICAgYSA9IHJlcXVlc3RzLmdldChmJ2h0dHBzOi8vdmlhY2VwLmNvbS5ici93cy97Y2VwfS9qc29uJykKICAgIGNwID0gYS5qc29uKCkKICAgIGNsZWFyKCkKICAgIGZvciBpdGVtIGluIGNwOgogICAgICAgIHByaW50KGl0ZW0sJzonLCBjcFtpdGVtXSkKICAgIEVudGVyKCkKCmRlZiBDbnBqKCk6CiAgICBjbGVhcigpCiAgICBjbnBqID0gaW5wdXQoJ0RJR0lURSBPIENOUEo6ICcpCgkKICAgIGIgPSByZXF1ZXN0cy5nZXQoZidodHRwczovL3d3dy5yZWNlaXRhd3MuY29tLmJyL3YxL2NucGove2NucGp9JykKCQogICAgcGogPSBiLmpzb24oKQogICAgCiAgICBjbGVhcigpCgkKICAgIGZvciBpdGVtIGluIHBqOgogICAgICAgIHByaW50KGl0ZW0sJzonLCBwaltpdGVtXSkKICAgIEVudGVyKCkKCmRlZiBwbGFjYSgpOgogICAgY2xlYXIoKQogICAgcGxhY2EgPSBpbnB1dCgnRElHSVRFIEEgUExBQ0E6ICcpCgkKICAgIHUgPSByZXF1ZXN0cy5nZXQoZidodHRwczovL2FwaWNhcnJvcy5jb20vdjEvY29uc3VsdGEve3BsYWNhfS9qc29uJywgdmVyaWZ5PUZhbHNlKQoJCiAgICBwaiA9IHUuanNvbigpCiAgICAKICAgIGNsZWFyKCkKICAgIGZvciBpdGVtIGluIHBqOgogICAgICAgIHByaW50KGl0ZW0sJzonLCBwaltpdGVtXSkKICAgIEVudGVyKCkKCmNsZWFyKCkKCm9wY29lcygpCg=='

exec(base64.b64decode(script))
